(function(k,Je){typeof exports=="object"&&typeof module<"u"?Je(exports):typeof define=="function"&&define.amd?define(["exports"],Je):(k=typeof globalThis<"u"?globalThis:k||self,Je(k["@walletconnect/core"]={}))})(this,function(k){"use strict";var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rt(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var ut={exports:{}},Bt=typeof Reflect=="object"?Reflect:null,oi=Bt&&typeof Bt.apply=="function"?Bt.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Er;Bt&&typeof Bt.ownKeys=="function"?Er=Bt.ownKeys:Object.getOwnPropertySymbols?Er=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Er=function(e){return Object.getOwnPropertyNames(e)};function Ca(t){console&&console.warn&&console.warn(t)}var ai=Number.isNaN||function(e){return e!==e};function Oe(){Oe.init.call(this)}ut.exports=Oe,ut.exports.once=Ua,Oe.EventEmitter=Oe,Oe.prototype._events=void 0,Oe.prototype._eventsCount=0,Oe.prototype._maxListeners=void 0;var ci=10;function wr(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Oe,"defaultMaxListeners",{enumerable:!0,get:function(){return ci},set:function(t){if(typeof t!="number"||t<0||ai(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");ci=t}}),Oe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Oe.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||ai(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function ui(t){return t._maxListeners===void 0?Oe.defaultMaxListeners:t._maxListeners}Oe.prototype.getMaxListeners=function(){return ui(this)},Oe.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var c;if(r.length>0&&(c=r[0]),c instanceof Error)throw c;var u=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw u.context=c,u}var h=s[e];if(h===void 0)return!1;if(typeof h=="function")oi(h,this,r);else for(var f=h.length,_=gi(h,f),n=0;n<f;++n)oi(_[n],this,r);return!0};function fi(t,e,r,n){var i,s,c;if(wr(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),c=s[e]),c===void 0)c=s[e]=r,++t._eventsCount;else if(typeof c=="function"?c=s[e]=n?[r,c]:[c,r]:n?c.unshift(r):c.push(r),i=ui(t),i>0&&c.length>i&&!c.warned){c.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=c.length,Ca(u)}return t}Oe.prototype.addListener=function(e,r){return fi(this,e,r,!1)},Oe.prototype.on=Oe.prototype.addListener,Oe.prototype.prependListener=function(e,r){return fi(this,e,r,!0)};function Pa(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function hi(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=Pa.bind(n);return i.listener=r,n.wrapFn=i,i}Oe.prototype.once=function(e,r){return wr(r),this.on(e,hi(this,e,r)),this},Oe.prototype.prependOnceListener=function(e,r){return wr(r),this.prependListener(e,hi(this,e,r)),this},Oe.prototype.removeListener=function(e,r){var n,i,s,c,u;if(wr(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,c=n.length-1;c>=0;c--)if(n[c]===r||n[c].listener===r){u=n[c].listener,s=c;break}if(s<0)return this;s===0?n.shift():La(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,u||r)}return this},Oe.prototype.off=Oe.prototype.removeListener,Oe.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),c;for(i=0;i<s.length;++i)c=s[i],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function li(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Na(i):gi(i,i.length)}Oe.prototype.listeners=function(e){return li(this,e,!0)},Oe.prototype.rawListeners=function(e){return li(this,e,!1)},Oe.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):di.call(t,e)},Oe.prototype.listenerCount=di;function di(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Oe.prototype.eventNames=function(){return this._eventsCount>0?Er(this._events):[]};function gi(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function La(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Na(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Ua(t,e){return new Promise(function(r,n){function i(c){t.removeListener(e,s),n(c)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}_i(t,e,s,{once:!0}),e!=="error"&&Ma(t,i,{once:!0})})}function Ma(t,e,r){typeof t.on=="function"&&_i(t,"error",e,r)}function _i(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var mr={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var kr=function(t,e){return kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},kr(t,e)};function ja(t,e){kr(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Jr=function(){return Jr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Jr.apply(this,arguments)};function $a(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Fa(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(c=t[u])&&(s=(i<3?c(s):i>3?c(e,r,s):c(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Ba(t,e){return function(r,n){e(r,n,t)}}function za(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ha(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function u(_){try{f(n.next(_))}catch(O){c(O)}}function h(_){try{f(n.throw(_))}catch(O){c(O)}}function f(_){_.done?s(_.value):i(_.value).then(u,h)}f((n=n.apply(t,e||[])).next())})}function Ka(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(_){return h([f,_])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(_){f=[6,_],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Ga(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Va(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Zr(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yi(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],c;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return s}function qa(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(yi(arguments[e]));return t}function Ya(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],c=0,u=s.length;c<u;c++,i++)n[i]=s[c];return n}function Jt(t){return this instanceof Jt?(this.v=t,this):new Jt(t)}function Wa(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(p){n[p]&&(i[p]=function(E){return new Promise(function(A,C){s.push([p,E,A,C])>1||u(p,E)})})}function u(p,E){try{h(n[p](E))}catch(A){O(s[0][3],A)}}function h(p){p.value instanceof Jt?Promise.resolve(p.value.v).then(f,_):O(s[0][2],p)}function f(p){u("next",p)}function _(p){u("throw",p)}function O(p,E){p(E),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Xa(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(c){return(r=!r)?{value:Jt(t[i](c)),done:i==="return"}:s?s(c):c}:s}}function ka(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Zr=="function"?Zr(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(c){return new Promise(function(u,h){c=t[s](c),i(u,h,c.done,c.value)})}}function i(s,c,u,h){Promise.resolve(h).then(function(f){s({value:f,done:u})},c)}}function Ja(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Za(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Qa(t){return t&&t.__esModule?t:{default:t}}function ec(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function tc(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var rc=Object.freeze({__proto__:null,__extends:ja,get __assign(){return Jr},__rest:$a,__decorate:Fa,__param:Ba,__metadata:za,__awaiter:Ha,__generator:Ka,__createBinding:Ga,__exportStar:Va,__values:Zr,__read:yi,__spread:qa,__spreadArrays:Ya,__await:Jt,__asyncGenerator:Wa,__asyncDelegator:Xa,__asyncValues:ka,__makeTemplateObject:Ja,__importStar:Za,__importDefault:Qa,__classPrivateFieldGet:ec,__classPrivateFieldSet:tc}),pi=Rt(rc),Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});function nc(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}Zt.safeJsonParse=nc;function ic(t){return typeof t=="string"?t:JSON.stringify(t,(e,r)=>typeof r>"u"?null:r)}Zt.safeJsonStringify=ic;var Qt={exports:{}},bi;function sc(){return bi||(bi=1,function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Je<"u"&&Je.localStorage?Qt.exports=Je.localStorage:typeof window<"u"&&window.localStorage?Qt.exports=window.localStorage:Qt.exports=new e}()),Qt.exports}var Qr={},er={},vi;function oc(){if(vi)return er;vi=1,Object.defineProperty(er,"__esModule",{value:!0}),er.IKeyValueStorage=void 0;class t{}return er.IKeyValueStorage=t,er}var tr={},Ei;function ac(){if(Ei)return tr;Ei=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.parseEntry=void 0;const t=Zt;function e(r){var n;return[r[0],t.safeJsonParse((n=r[1])!==null&&n!==void 0?n:"")]}return tr.parseEntry=e,tr}var wi;function cc(){return wi||(wi=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=pi;e.__exportStar(oc(),t),e.__exportStar(ac(),t)}(Qr)),Qr}Object.defineProperty(mr,"__esModule",{value:!0}),mr.KeyValueStorage=void 0;const zt=pi,mi=Zt,uc=zt.__importDefault(sc()),fc=cc();class Di{constructor(){this.localStorage=uc.default}getKeys(){return zt.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return zt.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(fc.parseEntry)})}getItem(e){return zt.__awaiter(this,void 0,void 0,function*(){const r=this.localStorage.getItem(e);if(r!==null)return mi.safeJsonParse(r)})}setItem(e,r){return zt.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,mi.safeJsonStringify(r))})}removeItem(e){return zt.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}}mr.KeyValueStorage=Di;var hc=mr.default=Di,Ht={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var en=function(t,e){return en=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},en(t,e)};function lc(t,e){en(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var tn=function(){return tn=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},tn.apply(this,arguments)};function dc(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function gc(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(c=t[u])&&(s=(i<3?c(s):i>3?c(e,r,s):c(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function _c(t,e){return function(r,n){e(r,n,t)}}function yc(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function pc(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function u(_){try{f(n.next(_))}catch(O){c(O)}}function h(_){try{f(n.throw(_))}catch(O){c(O)}}function f(_){_.done?s(_.value):i(_.value).then(u,h)}f((n=n.apply(t,e||[])).next())})}function bc(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(_){return h([f,_])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(_){f=[6,_],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function vc(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Ec(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function rn(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Si(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],c;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return s}function wc(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Si(arguments[e]));return t}function mc(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],c=0,u=s.length;c<u;c++,i++)n[i]=s[c];return n}function rr(t){return this instanceof rr?(this.v=t,this):new rr(t)}function Dc(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(p){n[p]&&(i[p]=function(E){return new Promise(function(A,C){s.push([p,E,A,C])>1||u(p,E)})})}function u(p,E){try{h(n[p](E))}catch(A){O(s[0][3],A)}}function h(p){p.value instanceof rr?Promise.resolve(p.value.v).then(f,_):O(s[0][2],p)}function f(p){u("next",p)}function _(p){u("throw",p)}function O(p,E){p(E),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Sc(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(c){return(r=!r)?{value:rr(t[i](c)),done:i==="return"}:s?s(c):c}:s}}function Oc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof rn=="function"?rn(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(c){return new Promise(function(u,h){c=t[s](c),i(u,h,c.done,c.value)})}}function i(s,c,u,h){Promise.resolve(h).then(function(f){s({value:f,done:u})},c)}}function Tc(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function xc(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Ic(t){return t&&t.__esModule?t:{default:t}}function Rc(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Ac(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var Cc=Object.freeze({__proto__:null,__extends:lc,get __assign(){return tn},__rest:dc,__decorate:gc,__param:_c,__metadata:yc,__awaiter:pc,__generator:bc,__createBinding:vc,__exportStar:Ec,__values:rn,__read:Si,__spread:wc,__spreadArrays:mc,__await:rr,__asyncGenerator:Dc,__asyncDelegator:Sc,__asyncValues:Oc,__makeTemplateObject:Tc,__importStar:xc,__importDefault:Ic,__classPrivateFieldGet:Rc,__classPrivateFieldSet:Ac}),Dr=Rt(Cc),nr={},oe={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var nn=function(t,e){return nn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},nn(t,e)};function Pc(t,e){nn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var sn=function(){return sn=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},sn.apply(this,arguments)};function Lc(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Nc(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(c=t[u])&&(s=(i<3?c(s):i>3?c(e,r,s):c(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Uc(t,e){return function(r,n){e(r,n,t)}}function Mc(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function jc(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function u(_){try{f(n.next(_))}catch(O){c(O)}}function h(_){try{f(n.throw(_))}catch(O){c(O)}}function f(_){_.done?s(_.value):i(_.value).then(u,h)}f((n=n.apply(t,e||[])).next())})}function $c(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(_){return h([f,_])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(_){f=[6,_],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Fc(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Bc(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function on(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oi(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],c;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return s}function zc(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Oi(arguments[e]));return t}function Hc(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],c=0,u=s.length;c<u;c++,i++)n[i]=s[c];return n}function ir(t){return this instanceof ir?(this.v=t,this):new ir(t)}function Kc(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(p){n[p]&&(i[p]=function(E){return new Promise(function(A,C){s.push([p,E,A,C])>1||u(p,E)})})}function u(p,E){try{h(n[p](E))}catch(A){O(s[0][3],A)}}function h(p){p.value instanceof ir?Promise.resolve(p.value.v).then(f,_):O(s[0][2],p)}function f(p){u("next",p)}function _(p){u("throw",p)}function O(p,E){p(E),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Gc(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(c){return(r=!r)?{value:ir(t[i](c)),done:i==="return"}:s?s(c):c}:s}}function Vc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof on=="function"?on(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(c){return new Promise(function(u,h){c=t[s](c),i(u,h,c.done,c.value)})}}function i(s,c,u,h){Promise.resolve(h).then(function(f){s({value:f,done:u})},c)}}function qc(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Yc(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Wc(t){return t&&t.__esModule?t:{default:t}}function Xc(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function kc(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var Jc=Object.freeze({__proto__:null,__extends:Pc,get __assign(){return sn},__rest:Lc,__decorate:Nc,__param:Uc,__metadata:Mc,__awaiter:jc,__generator:$c,__createBinding:Fc,__exportStar:Bc,__values:on,__read:Oi,__spread:zc,__spreadArrays:Hc,__await:ir,__asyncGenerator:Kc,__asyncDelegator:Gc,__asyncValues:Vc,__makeTemplateObject:qc,__importStar:Yc,__importDefault:Wc,__classPrivateFieldGet:Xc,__classPrivateFieldSet:kc}),Sr=Rt(Jc),an={},sr={},Ti;function Zc(){if(Ti)return sr;Ti=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return sr.delay=t,sr}var At={},cn={},Ct={},xi;function Qc(){return xi||(xi=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.ONE_THOUSAND=Ct.ONE_HUNDRED=void 0,Ct.ONE_HUNDRED=100,Ct.ONE_THOUSAND=1e3),Ct}var un={},Ii;function eu(){return Ii||(Ii=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(un)),un}var Ri;function Ai(){return Ri||(Ri=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Sr;e.__exportStar(Qc(),t),e.__exportStar(eu(),t)}(cn)),cn}var Ci;function tu(){if(Ci)return At;Ci=1,Object.defineProperty(At,"__esModule",{value:!0}),At.fromMiliseconds=At.toMiliseconds=void 0;const t=Ai();function e(n){return n*t.ONE_THOUSAND}At.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return At.fromMiliseconds=r,At}var Pi;function ru(){return Pi||(Pi=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Sr;e.__exportStar(Zc(),t),e.__exportStar(tu(),t)}(an)),an}var Kt={},Li;function nu(){if(Li)return Kt;Li=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Kt.Watch=t,Kt.default=t,Kt}var fn={},or={},Ni;function iu(){if(Ni)return or;Ni=1,Object.defineProperty(or,"__esModule",{value:!0}),or.IWatch=void 0;class t{}return or.IWatch=t,or}var Ui;function su(){return Ui||(Ui=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Sr.__exportStar(iu(),t)}(fn)),fn}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Sr;e.__exportStar(ru(),t),e.__exportStar(nu(),t),e.__exportStar(su(),t),e.__exportStar(Ai(),t)})(oe);var hn={},ar={};class Pt{}var ou=Object.freeze({__proto__:null,IEvents:Pt}),au=Rt(ou),Mi;function cu(){if(Mi)return ar;Mi=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.IHeartBeat=void 0;const t=au;class e extends t.IEvents{constructor(n){super()}}return ar.IHeartBeat=e,ar}var ji;function $i(){return ji||(ji=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Dr.__exportStar(cu(),t)}(hn)),hn}var ln={},Lt={},Fi;function uu(){if(Fi)return Lt;Fi=1,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.HEARTBEAT_EVENTS=Lt.HEARTBEAT_INTERVAL=void 0;const t=oe;return Lt.HEARTBEAT_INTERVAL=t.FIVE_SECONDS,Lt.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},Lt}var Bi;function zi(){return Bi||(Bi=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Dr.__exportStar(uu(),t)}(ln)),ln}var Hi;function fu(){if(Hi)return nr;Hi=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.HeartBeat=void 0;const t=Dr,e=ut.exports,r=oe,n=$i(),i=zi();class s extends n.IHeartBeat{constructor(u){super(u),this.events=new e.EventEmitter,this.interval=i.HEARTBEAT_INTERVAL,this.interval=u?.interval||i.HEARTBEAT_INTERVAL}static init(u){return t.__awaiter(this,void 0,void 0,function*(){const h=new s(u);return yield h.init(),h})}init(){return t.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(u,h){this.events.on(u,h)}once(u,h){this.events.once(u,h)}off(u,h){this.events.off(u,h)}removeListener(u,h){this.events.removeListener(u,h)}initialize(){return t.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),r.toMiliseconds(this.interval))})}pulse(){this.events.emit(i.HEARTBEAT_EVENTS.pulse)}}return nr.HeartBeat=s,nr}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Dr;e.__exportStar(fu(),t),e.__exportStar($i(),t),e.__exportStar(zi(),t)})(Ht);var Se={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var dn=function(t,e){return dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},dn(t,e)};function hu(t,e){dn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gn=function(){return gn=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},gn.apply(this,arguments)};function lu(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function du(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(c=t[u])&&(s=(i<3?c(s):i>3?c(e,r,s):c(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function gu(t,e){return function(r,n){e(r,n,t)}}function _u(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function yu(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function u(_){try{f(n.next(_))}catch(O){c(O)}}function h(_){try{f(n.throw(_))}catch(O){c(O)}}function f(_){_.done?s(_.value):i(_.value).then(u,h)}f((n=n.apply(t,e||[])).next())})}function pu(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(_){return h([f,_])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(_){f=[6,_],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function bu(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function vu(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function _n(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ki(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],c;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return s}function Eu(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ki(arguments[e]));return t}function wu(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],c=0,u=s.length;c<u;c++,i++)n[i]=s[c];return n}function cr(t){return this instanceof cr?(this.v=t,this):new cr(t)}function mu(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(p){n[p]&&(i[p]=function(E){return new Promise(function(A,C){s.push([p,E,A,C])>1||u(p,E)})})}function u(p,E){try{h(n[p](E))}catch(A){O(s[0][3],A)}}function h(p){p.value instanceof cr?Promise.resolve(p.value.v).then(f,_):O(s[0][2],p)}function f(p){u("next",p)}function _(p){u("throw",p)}function O(p,E){p(E),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Du(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(c){return(r=!r)?{value:cr(t[i](c)),done:i==="return"}:s?s(c):c}:s}}function Su(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof _n=="function"?_n(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(c){return new Promise(function(u,h){c=t[s](c),i(u,h,c.done,c.value)})}}function i(s,c,u,h){Promise.resolve(h).then(function(f){s({value:f,done:u})},c)}}function Ou(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Tu(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function xu(t){return t&&t.__esModule?t:{default:t}}function Iu(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Ru(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var Au=Object.freeze({__proto__:null,__extends:hu,get __assign(){return gn},__rest:lu,__decorate:du,__param:gu,__metadata:_u,__awaiter:yu,__generator:pu,__createBinding:bu,__exportStar:vu,__values:_n,__read:Ki,__spread:Eu,__spreadArrays:wu,__await:cr,__asyncGenerator:mu,__asyncDelegator:Du,__asyncValues:Su,__makeTemplateObject:Ou,__importStar:Tu,__importDefault:xu,__classPrivateFieldGet:Iu,__classPrivateFieldSet:Ru}),Cu=Rt(Au),yn,Gi;function Pu(){if(Gi)return yn;Gi=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}yn=e;function e(r,n,i){var s=i&&i.stringify||t,c=1;if(typeof r=="object"&&r!==null){var u=n.length+c;if(u===1)return r;var h=new Array(u);h[0]=s(r);for(var f=1;f<u;f++)h[f]=s(n[f]);return h.join(" ")}if(typeof r!="string")return r;var _=n.length;if(_===0)return r;for(var O="",p=1-c,E=-1,A=r&&r.length||0,C=0;C<A;){if(r.charCodeAt(C)===37&&C+1<A){switch(E=E>-1?E:0,r.charCodeAt(C+1)){case 100:case 102:if(p>=_||n[p]==null)break;E<C&&(O+=r.slice(E,C)),O+=Number(n[p]),E=C+2,C++;break;case 105:if(p>=_||n[p]==null)break;E<C&&(O+=r.slice(E,C)),O+=Math.floor(Number(n[p])),E=C+2,C++;break;case 79:case 111:case 106:if(p>=_||n[p]===void 0)break;E<C&&(O+=r.slice(E,C));var U=typeof n[p];if(U==="string"){O+="'"+n[p]+"'",E=C+2,C++;break}if(U==="function"){O+=n[p].name||"<anonymous>",E=C+2,C++;break}O+=s(n[p]),E=C+2,C++;break;case 115:if(p>=_)break;E<C&&(O+=r.slice(E,C)),O+=String(n[p]),E=C+2,C++;break;case 37:E<C&&(O+=r.slice(E,C)),O+="%",E=C+2,C++,p--;break}++p}++C}return E===-1?r:(E<A&&(O+=r.slice(E)),O)}return yn}var pn,Vi;function Lu(){if(Vi)return pn;Vi=1;const t=Pu();pn=i;const e=v().console||{},r={mapHttpRequest:A,mapHttpResponse:A,wrapRequestSerializer:C,wrapResponseSerializer:C,wrapErrorSerializer:C,req:A,res:A,err:p};function n(d,o){return Array.isArray(d)?d.filter(function(L){return L!=="!stdSerializers.err"}):d===!0?Object.keys(o):!1}function i(d){d=d||{},d.browser=d.browser||{};const o=d.browser.transmit;if(o&&typeof o.send!="function")throw Error("pino: transmit option must have a send function");const l=d.browser.write||e;d.browser.write&&(d.browser.asObject=!0);const L=d.serializers||{},P=n(d.browser.serialize,L);let H=d.browser.serialize;Array.isArray(d.browser.serialize)&&d.browser.serialize.indexOf("!stdSerializers.err")>-1&&(H=!1);const G=["error","fatal","warn","info","debug","trace"];typeof l=="function"&&(l.error=l.fatal=l.warn=l.info=l.debug=l.trace=l),d.enabled===!1&&(d.level="silent");const J=d.level||"info",D=Object.create(l);D.log||(D.log=U),Object.defineProperty(D,"levelVal",{get:V}),Object.defineProperty(D,"level",{get:F,set:M});const I={transmit:o,serialize:P,asObject:d.browser.asObject,levels:G,timestamp:E(d)};D.levels=i.levels,D.level=J,D.setMaxListeners=D.getMaxListeners=D.emit=D.addListener=D.on=D.prependListener=D.once=D.prependOnceListener=D.removeListener=D.removeAllListeners=D.listeners=D.listenerCount=D.eventNames=D.write=D.flush=U,D.serializers=L,D._serialize=P,D._stdErrSerialize=H,D.child=$,o&&(D._logEvent=O());function V(){return this.level==="silent"?1/0:this.levels.values[this.level]}function F(){return this._level}function M(N){if(N!=="silent"&&!this.levels.values[N])throw Error("unknown level "+N);this._level=N,s(I,D,"error","log"),s(I,D,"fatal","error"),s(I,D,"warn","error"),s(I,D,"info","log"),s(I,D,"debug","log"),s(I,D,"trace","log")}function $(N,B){if(!N)throw new Error("missing bindings for child Pino");B=B||{},P&&N.serializers&&(B.serializers=N.serializers);const ee=B.serializers;if(P&&ee){var z=Object.assign({},L,ee),Z=d.browser.serialize===!0?Object.keys(z):P;delete N.serializers,h([N],Z,z,this._stdErrSerialize)}function W(Q){this._childLevel=(Q._childLevel|0)+1,this.error=f(Q,N,"error"),this.fatal=f(Q,N,"fatal"),this.warn=f(Q,N,"warn"),this.info=f(Q,N,"info"),this.debug=f(Q,N,"debug"),this.trace=f(Q,N,"trace"),z&&(this.serializers=z,this._serialize=Z),o&&(this._logEvent=O([].concat(Q._logEvent.bindings,N)))}return W.prototype=this,new W(this)}return D}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:Y,epochTime:S,unixTime:R,isoTime:b});function s(d,o,l,L){const P=Object.getPrototypeOf(o);o[l]=o.levelVal>o.levels.values[l]?U:P[l]?P[l]:e[l]||e[L]||U,c(d,o,l)}function c(d,o,l){!d.transmit&&o[l]===U||(o[l]=function(L){return function(){const H=d.timestamp(),G=new Array(arguments.length),J=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var D=0;D<G.length;D++)G[D]=arguments[D];if(d.serialize&&!d.asObject&&h(G,this._serialize,this.serializers,this._stdErrSerialize),d.asObject?L.call(J,u(this,l,G,H)):L.apply(J,G),d.transmit){const I=d.transmit.level||o.level,V=i.levels.values[I],F=i.levels.values[l];if(F<V)return;_(this,{ts:H,methodLevel:l,methodValue:F,transmitLevel:I,transmitValue:i.levels.values[d.transmit.level||o.level],send:d.transmit.send,val:o.levelVal},G)}}}(o[l]))}function u(d,o,l,L){d._serialize&&h(l,d._serialize,d.serializers,d._stdErrSerialize);const P=l.slice();let H=P[0];const G={};L&&(G.time=L),G.level=i.levels.values[o];let J=(d._childLevel|0)+1;if(J<1&&(J=1),H!==null&&typeof H=="object"){for(;J--&&typeof P[0]=="object";)Object.assign(G,P.shift());H=P.length?t(P.shift(),P):void 0}else typeof H=="string"&&(H=t(P.shift(),P));return H!==void 0&&(G.msg=H),G}function h(d,o,l,L){for(const P in d)if(L&&d[P]instanceof Error)d[P]=i.stdSerializers.err(d[P]);else if(typeof d[P]=="object"&&!Array.isArray(d[P]))for(const H in d[P])o&&o.indexOf(H)>-1&&H in l&&(d[P][H]=l[H](d[P][H]))}function f(d,o,l){return function(){const L=new Array(1+arguments.length);L[0]=o;for(var P=1;P<L.length;P++)L[P]=arguments[P-1];return d[l].apply(this,L)}}function _(d,o,l){const L=o.send,P=o.ts,H=o.methodLevel,G=o.methodValue,J=o.val,D=d._logEvent.bindings;h(l,d._serialize||Object.keys(d.serializers),d.serializers,d._stdErrSerialize===void 0?!0:d._stdErrSerialize),d._logEvent.ts=P,d._logEvent.messages=l.filter(function(I){return D.indexOf(I)===-1}),d._logEvent.level.label=H,d._logEvent.level.value=G,L(H,d._logEvent,J),d._logEvent=O(D)}function O(d){return{ts:0,messages:[],bindings:d||[],level:{label:"",value:0}}}function p(d){const o={type:d.constructor.name,msg:d.message,stack:d.stack};for(const l in d)o[l]===void 0&&(o[l]=d[l]);return o}function E(d){return typeof d.timestamp=="function"?d.timestamp:d.timestamp===!1?Y:S}function A(){return{}}function C(d){return d}function U(){}function Y(){return!1}function S(){return Date.now()}function R(){return Math.round(Date.now()/1e3)}function b(){return new Date(Date.now()).toISOString()}function v(){function d(o){return typeof o<"u"&&o}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return d(self)||d(window)||d(this)||{}}}return pn}var Nt={},qi;function Yi(){return qi||(qi=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.PINO_CUSTOM_CONTEXT_KEY=Nt.PINO_LOGGER_DEFAULTS=void 0,Nt.PINO_LOGGER_DEFAULTS={level:"info"},Nt.PINO_CUSTOM_CONTEXT_KEY="custom_context"),Nt}var rt={},Wi;function Nu(){if(Wi)return rt;Wi=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.generateChildLogger=rt.formatChildLoggerContext=rt.getLoggerContext=rt.setBrowserLoggerContext=rt.getBrowserLoggerContext=rt.getDefaultLoggerOptions=void 0;const t=Yi();function e(u){return Object.assign(Object.assign({},u),{level:u?.level||t.PINO_LOGGER_DEFAULTS.level})}rt.getDefaultLoggerOptions=e;function r(u,h=t.PINO_CUSTOM_CONTEXT_KEY){return u[h]||""}rt.getBrowserLoggerContext=r;function n(u,h,f=t.PINO_CUSTOM_CONTEXT_KEY){return u[f]=h,u}rt.setBrowserLoggerContext=n;function i(u,h=t.PINO_CUSTOM_CONTEXT_KEY){let f="";return typeof u.bindings>"u"?f=r(u,h):f=u.bindings().context||"",f}rt.getLoggerContext=i;function s(u,h,f=t.PINO_CUSTOM_CONTEXT_KEY){const _=i(u,f);return _.trim()?`${_}/${h}`:h}rt.formatChildLoggerContext=s;function c(u,h,f=t.PINO_CUSTOM_CONTEXT_KEY){const _=s(u,h,f),O=u.child({context:_});return n(O,_,f)}return rt.generateChildLogger=c,rt}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.pino=void 0;const e=Cu,r=e.__importDefault(Lu());Object.defineProperty(t,"pino",{enumerable:!0,get:function(){return r.default}}),e.__exportStar(Yi(),t),e.__exportStar(Nu(),t)})(Se);class Uu extends Pt{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class Mu extends Pt{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}}class ju{constructor(e,r){this.logger=e,this.core=r}}class $u extends Pt{constructor(e,r){super(),this.relayer=e,this.logger=r}}class Fu extends Pt{constructor(e){super()}}class Bu{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}}class zu extends Pt{constructor(e,r){super(),this.relayer=e,this.logger=r}}class Hu extends Pt{constructor(e,r){super(),this.core=e,this.logger=r}}class Ku{constructor(e,r){this.projectId=e,this.logger=r}}const Gu=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),Vu=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Xi(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Vu(t)}catch{return t}}function bn(t){return typeof t=="string"?t:Gu(t)||""}var vn={},Gt={},Or={},Tr={};Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.BrowserRandomSource=void 0;const ki=65536;class qu{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(e);for(let n=0;n<r.length;n+=ki)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,ki)));return r}}Tr.BrowserRandomSource=qu;function Yu(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xr={},ot={};Object.defineProperty(ot,"__esModule",{value:!0});function Wu(t){for(var e=0;e<t.length;e++)t[e]=0;return t}ot.wipe=Wu;var Xu={},ku=Object.freeze({__proto__:null,default:Xu}),Ju=Rt(ku);Object.defineProperty(xr,"__esModule",{value:!0}),xr.NodeRandomSource=void 0;const Zu=ot;class Qu{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof Yu<"u"){const e=Ju;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,Zu.wipe)(r),n}}xr.NodeRandomSource=Qu,Object.defineProperty(Or,"__esModule",{value:!0}),Or.SystemRandomSource=void 0;const ef=Tr,tf=xr;class rf{constructor(){if(this.isAvailable=!1,this.name="",this._source=new ef.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new tf.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}Or.SystemRandomSource=rf;var re={},Ji={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(u,h){var f=u>>>16&65535,_=u&65535,O=h>>>16&65535,p=h&65535;return _*p+(f*p+_*O<<16>>>0)|0}t.mul=Math.imul||e;function r(u,h){return u+h|0}t.add=r;function n(u,h){return u-h|0}t.sub=n;function i(u,h){return u<<h|u>>>32-h}t.rotl=i;function s(u,h){return u<<32-h|u>>>h}t.rotr=s;function c(u){return typeof u=="number"&&isFinite(u)&&Math.floor(u)===u}t.isInteger=Number.isInteger||c,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(u){return t.isInteger(u)&&u>=-t.MAX_SAFE_INTEGER&&u<=t.MAX_SAFE_INTEGER}})(Ji),Object.defineProperty(re,"__esModule",{value:!0});var Zi=Ji;function nf(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}re.readInt16BE=nf;function sf(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}re.readUint16BE=sf;function of(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}re.readInt16LE=of;function af(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}re.readUint16LE=af;function Qi(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}re.writeUint16BE=Qi,re.writeInt16BE=Qi;function es(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}re.writeUint16LE=es,re.writeInt16LE=es;function En(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}re.readInt32BE=En;function wn(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}re.readUint32BE=wn;function mn(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}re.readInt32LE=mn;function Dn(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}re.readUint32LE=Dn;function Ir(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}re.writeUint32BE=Ir,re.writeInt32BE=Ir;function Rr(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}re.writeUint32LE=Rr,re.writeInt32LE=Rr;function cf(t,e){e===void 0&&(e=0);var r=En(t,e),n=En(t,e+4);return r*4294967296+n-(n>>31)*4294967296}re.readInt64BE=cf;function uf(t,e){e===void 0&&(e=0);var r=wn(t,e),n=wn(t,e+4);return r*4294967296+n}re.readUint64BE=uf;function ff(t,e){e===void 0&&(e=0);var r=mn(t,e),n=mn(t,e+4);return n*4294967296+r-(r>>31)*4294967296}re.readInt64LE=ff;function hf(t,e){e===void 0&&(e=0);var r=Dn(t,e),n=Dn(t,e+4);return n*4294967296+r}re.readUint64LE=hf;function ts(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Ir(t/4294967296>>>0,e,r),Ir(t>>>0,e,r+4),e}re.writeUint64BE=ts,re.writeInt64BE=ts;function rs(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Rr(t>>>0,e,r),Rr(t/4294967296>>>0,e,r+4),e}re.writeUint64LE=rs,re.writeInt64LE=rs;function lf(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=t/8+r-1;s>=r;s--)n+=e[s]*i,i*=256;return n}re.readUintBE=lf;function df(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+t/8;s++)n+=e[s]*i,i*=256;return n}re.readUintLE=df;function gf(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!Zi.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+n-1;s>=n;s--)r[s]=e/i&255,i*=256;return r}re.writeUintBE=gf;function _f(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!Zi.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+t/8;s++)r[s]=e/i&255,i*=256;return r}re.writeUintLE=_f;function yf(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}re.readFloat32BE=yf;function pf(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}re.readFloat32LE=pf;function bf(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}re.readFloat64BE=bf;function vf(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}re.readFloat64LE=vf;function Ef(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}re.writeFloat32BE=Ef;function wf(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}re.writeFloat32LE=wf;function mf(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}re.writeFloat64BE=mf;function Df(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}re.writeFloat64LE=Df,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=Or,r=re,n=ot;t.defaultRandomSource=new e.SystemRandomSource;function i(f,_=t.defaultRandomSource){return _.randomBytes(f)}t.randomBytes=i;function s(f=t.defaultRandomSource){const _=i(4,f),O=(0,r.readUint32LE)(_);return(0,n.wipe)(_),O}t.randomUint32=s;const c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function u(f,_=c,O=t.defaultRandomSource){if(_.length<2)throw new Error("randomString charset is too short");if(_.length>256)throw new Error("randomString charset is too long");let p="";const E=_.length,A=256-256%E;for(;f>0;){const C=i(Math.ceil(f*256/A),O);for(let U=0;U<C.length&&f>0;U++){const Y=C[U];Y<A&&(p+=_.charAt(Y%E),f--)}(0,n.wipe)(C)}return p}t.randomString=u;function h(f,_=c,O=t.defaultRandomSource){const p=Math.ceil(f/(Math.log(_.length)/Math.LN2));return u(p,_,O)}t.randomStringForEntropy=h}(Gt);var ns={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=re,r=ot;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var n=function(){function u(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return u.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},u.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},u.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},u.prototype.update=function(h,f){if(f===void 0&&(f=h.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var _=0;if(this._bytesHashed+=f,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&f>0;)this._buffer[this._bufferLength++]=h[_++],f--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(f>=this.blockSize&&(_=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,h,_,f),f%=this.blockSize);f>0;)this._buffer[this._bufferLength++]=h[_++],f--;return this},u.prototype.finish=function(h){if(!this._finished){var f=this._bytesHashed,_=this._bufferLength,O=f/536870912|0,p=f<<3,E=f%128<112?128:256;this._buffer[_]=128;for(var A=_+1;A<E-8;A++)this._buffer[A]=0;e.writeUint32BE(O,this._buffer,E-8),e.writeUint32BE(p,this._buffer,E-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,E),this._finished=!0}for(var A=0;A<this.digestLength/8;A++)e.writeUint32BE(this._stateHi[A],h,A*8),e.writeUint32BE(this._stateLo[A],h,A*8+4);return this},u.prototype.digest=function(){var h=new Uint8Array(this.digestLength);return this.finish(h),h},u.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},u.prototype.restoreState=function(h){return this._stateHi.set(h.stateHi),this._stateLo.set(h.stateLo),this._bufferLength=h.bufferLength,h.buffer&&this._buffer.set(h.buffer),this._bytesHashed=h.bytesHashed,this._finished=!1,this},u.prototype.cleanSavedState=function(h){r.wipe(h.stateHi),r.wipe(h.stateLo),h.buffer&&r.wipe(h.buffer),h.bufferLength=0,h.bytesHashed=0},u}();t.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(u,h,f,_,O,p,E){for(var A=f[0],C=f[1],U=f[2],Y=f[3],S=f[4],R=f[5],b=f[6],v=f[7],d=_[0],o=_[1],l=_[2],L=_[3],P=_[4],H=_[5],G=_[6],J=_[7],D,I,V,F,M,$,N,B;E>=128;){for(var ee=0;ee<16;ee++){var z=8*ee+p;u[ee]=e.readUint32BE(O,z),h[ee]=e.readUint32BE(O,z+4)}for(var ee=0;ee<80;ee++){var Z=A,W=C,Q=U,x=Y,T=S,w=R,a=b,y=v,K=d,q=o,he=l,pe=L,de=P,Ee=H,Ue=G,Ce=J;if(D=v,I=J,M=I&65535,$=I>>>16,N=D&65535,B=D>>>16,D=(S>>>14|P<<32-14)^(S>>>18|P<<32-18)^(P>>>41-32|S<<32-(41-32)),I=(P>>>14|S<<32-14)^(P>>>18|S<<32-18)^(S>>>41-32|P<<32-(41-32)),M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,D=S&R^~S&b,I=P&H^~P&G,M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,D=i[ee*2],I=i[ee*2+1],M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,D=u[ee%16],I=h[ee%16],M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,$+=M>>>16,N+=$>>>16,B+=N>>>16,V=N&65535|B<<16,F=M&65535|$<<16,D=V,I=F,M=I&65535,$=I>>>16,N=D&65535,B=D>>>16,D=(A>>>28|d<<32-28)^(d>>>34-32|A<<32-(34-32))^(d>>>39-32|A<<32-(39-32)),I=(d>>>28|A<<32-28)^(A>>>34-32|d<<32-(34-32))^(A>>>39-32|d<<32-(39-32)),M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,D=A&C^A&U^C&U,I=d&o^d&l^o&l,M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,$+=M>>>16,N+=$>>>16,B+=N>>>16,y=N&65535|B<<16,Ce=M&65535|$<<16,D=x,I=pe,M=I&65535,$=I>>>16,N=D&65535,B=D>>>16,D=V,I=F,M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,$+=M>>>16,N+=$>>>16,B+=N>>>16,x=N&65535|B<<16,pe=M&65535|$<<16,C=Z,U=W,Y=Q,S=x,R=T,b=w,v=a,A=y,o=K,l=q,L=he,P=pe,H=de,G=Ee,J=Ue,d=Ce,ee%16===15)for(var z=0;z<16;z++)D=u[z],I=h[z],M=I&65535,$=I>>>16,N=D&65535,B=D>>>16,D=u[(z+9)%16],I=h[(z+9)%16],M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,V=u[(z+1)%16],F=h[(z+1)%16],D=(V>>>1|F<<32-1)^(V>>>8|F<<32-8)^V>>>7,I=(F>>>1|V<<32-1)^(F>>>8|V<<32-8)^(F>>>7|V<<32-7),M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,V=u[(z+14)%16],F=h[(z+14)%16],D=(V>>>19|F<<32-19)^(F>>>61-32|V<<32-(61-32))^V>>>6,I=(F>>>19|V<<32-19)^(V>>>61-32|F<<32-(61-32))^(F>>>6|V<<32-6),M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,$+=M>>>16,N+=$>>>16,B+=N>>>16,u[z]=N&65535|B<<16,h[z]=M&65535|$<<16}D=A,I=d,M=I&65535,$=I>>>16,N=D&65535,B=D>>>16,D=f[0],I=_[0],M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,$+=M>>>16,N+=$>>>16,B+=N>>>16,f[0]=A=N&65535|B<<16,_[0]=d=M&65535|$<<16,D=C,I=o,M=I&65535,$=I>>>16,N=D&65535,B=D>>>16,D=f[1],I=_[1],M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,$+=M>>>16,N+=$>>>16,B+=N>>>16,f[1]=C=N&65535|B<<16,_[1]=o=M&65535|$<<16,D=U,I=l,M=I&65535,$=I>>>16,N=D&65535,B=D>>>16,D=f[2],I=_[2],M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,$+=M>>>16,N+=$>>>16,B+=N>>>16,f[2]=U=N&65535|B<<16,_[2]=l=M&65535|$<<16,D=Y,I=L,M=I&65535,$=I>>>16,N=D&65535,B=D>>>16,D=f[3],I=_[3],M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,$+=M>>>16,N+=$>>>16,B+=N>>>16,f[3]=Y=N&65535|B<<16,_[3]=L=M&65535|$<<16,D=S,I=P,M=I&65535,$=I>>>16,N=D&65535,B=D>>>16,D=f[4],I=_[4],M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,$+=M>>>16,N+=$>>>16,B+=N>>>16,f[4]=S=N&65535|B<<16,_[4]=P=M&65535|$<<16,D=R,I=H,M=I&65535,$=I>>>16,N=D&65535,B=D>>>16,D=f[5],I=_[5],M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,$+=M>>>16,N+=$>>>16,B+=N>>>16,f[5]=R=N&65535|B<<16,_[5]=H=M&65535|$<<16,D=b,I=G,M=I&65535,$=I>>>16,N=D&65535,B=D>>>16,D=f[6],I=_[6],M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,$+=M>>>16,N+=$>>>16,B+=N>>>16,f[6]=b=N&65535|B<<16,_[6]=G=M&65535|$<<16,D=v,I=J,M=I&65535,$=I>>>16,N=D&65535,B=D>>>16,D=f[7],I=_[7],M+=I&65535,$+=I>>>16,N+=D&65535,B+=D>>>16,$+=M>>>16,N+=$>>>16,B+=N>>>16,f[7]=v=N&65535|B<<16,_[7]=J=M&65535|$<<16,p+=128,E-=128}return p}function c(u){var h=new n;h.update(u);var f=h.digest();return h.clean(),f}t.hash=c})(ns),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const e=Gt,r=ns,n=ot;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function i(x){const T=new Float64Array(16);if(x)for(let w=0;w<x.length;w++)T[w]=x[w];return T}const s=new Uint8Array(32);s[0]=9;const c=i(),u=i([1]),h=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),_=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),O=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function E(x,T){for(let w=0;w<16;w++)x[w]=T[w]|0}function A(x){let T=1;for(let w=0;w<16;w++){let a=x[w]+T+65535;T=Math.floor(a/65536),x[w]=a-T*65536}x[0]+=T-1+37*(T-1)}function C(x,T,w){const a=~(w-1);for(let y=0;y<16;y++){const K=a&(x[y]^T[y]);x[y]^=K,T[y]^=K}}function U(x,T){const w=i(),a=i();for(let y=0;y<16;y++)a[y]=T[y];A(a),A(a),A(a);for(let y=0;y<2;y++){w[0]=a[0]-65517;for(let q=1;q<15;q++)w[q]=a[q]-65535-(w[q-1]>>16&1),w[q-1]&=65535;w[15]=a[15]-32767-(w[14]>>16&1);const K=w[15]>>16&1;w[14]&=65535,C(a,w,1-K)}for(let y=0;y<16;y++)x[2*y]=a[y]&255,x[2*y+1]=a[y]>>8}function Y(x,T){let w=0;for(let a=0;a<32;a++)w|=x[a]^T[a];return(1&w-1>>>8)-1}function S(x,T){const w=new Uint8Array(32),a=new Uint8Array(32);return U(w,x),U(a,T),Y(w,a)}function R(x){const T=new Uint8Array(32);return U(T,x),T[0]&1}function b(x,T){for(let w=0;w<16;w++)x[w]=T[2*w]+(T[2*w+1]<<8);x[15]&=32767}function v(x,T,w){for(let a=0;a<16;a++)x[a]=T[a]+w[a]}function d(x,T,w){for(let a=0;a<16;a++)x[a]=T[a]-w[a]}function o(x,T,w){let a,y,K=0,q=0,he=0,pe=0,de=0,Ee=0,Ue=0,Ce=0,ye=0,ge=0,le=0,ue=0,ce=0,ae=0,se=0,te=0,fe=0,_e=0,ne=0,be=0,ve=0,me=0,De=0,we=0,_t=0,bt=0,Ot=0,at=0,Mt=0,pr=0,Kr=0,Me=w[0],Pe=w[1],je=w[2],$e=w[3],Fe=w[4],Le=w[5],Ke=w[6],Ge=w[7],Ve=w[8],qe=w[9],Ye=w[10],He=w[11],Be=w[12],Re=w[13],We=w[14],Xe=w[15];a=T[0],K+=a*Me,q+=a*Pe,he+=a*je,pe+=a*$e,de+=a*Fe,Ee+=a*Le,Ue+=a*Ke,Ce+=a*Ge,ye+=a*Ve,ge+=a*qe,le+=a*Ye,ue+=a*He,ce+=a*Be,ae+=a*Re,se+=a*We,te+=a*Xe,a=T[1],q+=a*Me,he+=a*Pe,pe+=a*je,de+=a*$e,Ee+=a*Fe,Ue+=a*Le,Ce+=a*Ke,ye+=a*Ge,ge+=a*Ve,le+=a*qe,ue+=a*Ye,ce+=a*He,ae+=a*Be,se+=a*Re,te+=a*We,fe+=a*Xe,a=T[2],he+=a*Me,pe+=a*Pe,de+=a*je,Ee+=a*$e,Ue+=a*Fe,Ce+=a*Le,ye+=a*Ke,ge+=a*Ge,le+=a*Ve,ue+=a*qe,ce+=a*Ye,ae+=a*He,se+=a*Be,te+=a*Re,fe+=a*We,_e+=a*Xe,a=T[3],pe+=a*Me,de+=a*Pe,Ee+=a*je,Ue+=a*$e,Ce+=a*Fe,ye+=a*Le,ge+=a*Ke,le+=a*Ge,ue+=a*Ve,ce+=a*qe,ae+=a*Ye,se+=a*He,te+=a*Be,fe+=a*Re,_e+=a*We,ne+=a*Xe,a=T[4],de+=a*Me,Ee+=a*Pe,Ue+=a*je,Ce+=a*$e,ye+=a*Fe,ge+=a*Le,le+=a*Ke,ue+=a*Ge,ce+=a*Ve,ae+=a*qe,se+=a*Ye,te+=a*He,fe+=a*Be,_e+=a*Re,ne+=a*We,be+=a*Xe,a=T[5],Ee+=a*Me,Ue+=a*Pe,Ce+=a*je,ye+=a*$e,ge+=a*Fe,le+=a*Le,ue+=a*Ke,ce+=a*Ge,ae+=a*Ve,se+=a*qe,te+=a*Ye,fe+=a*He,_e+=a*Be,ne+=a*Re,be+=a*We,ve+=a*Xe,a=T[6],Ue+=a*Me,Ce+=a*Pe,ye+=a*je,ge+=a*$e,le+=a*Fe,ue+=a*Le,ce+=a*Ke,ae+=a*Ge,se+=a*Ve,te+=a*qe,fe+=a*Ye,_e+=a*He,ne+=a*Be,be+=a*Re,ve+=a*We,me+=a*Xe,a=T[7],Ce+=a*Me,ye+=a*Pe,ge+=a*je,le+=a*$e,ue+=a*Fe,ce+=a*Le,ae+=a*Ke,se+=a*Ge,te+=a*Ve,fe+=a*qe,_e+=a*Ye,ne+=a*He,be+=a*Be,ve+=a*Re,me+=a*We,De+=a*Xe,a=T[8],ye+=a*Me,ge+=a*Pe,le+=a*je,ue+=a*$e,ce+=a*Fe,ae+=a*Le,se+=a*Ke,te+=a*Ge,fe+=a*Ve,_e+=a*qe,ne+=a*Ye,be+=a*He,ve+=a*Be,me+=a*Re,De+=a*We,we+=a*Xe,a=T[9],ge+=a*Me,le+=a*Pe,ue+=a*je,ce+=a*$e,ae+=a*Fe,se+=a*Le,te+=a*Ke,fe+=a*Ge,_e+=a*Ve,ne+=a*qe,be+=a*Ye,ve+=a*He,me+=a*Be,De+=a*Re,we+=a*We,_t+=a*Xe,a=T[10],le+=a*Me,ue+=a*Pe,ce+=a*je,ae+=a*$e,se+=a*Fe,te+=a*Le,fe+=a*Ke,_e+=a*Ge,ne+=a*Ve,be+=a*qe,ve+=a*Ye,me+=a*He,De+=a*Be,we+=a*Re,_t+=a*We,bt+=a*Xe,a=T[11],ue+=a*Me,ce+=a*Pe,ae+=a*je,se+=a*$e,te+=a*Fe,fe+=a*Le,_e+=a*Ke,ne+=a*Ge,be+=a*Ve,ve+=a*qe,me+=a*Ye,De+=a*He,we+=a*Be,_t+=a*Re,bt+=a*We,Ot+=a*Xe,a=T[12],ce+=a*Me,ae+=a*Pe,se+=a*je,te+=a*$e,fe+=a*Fe,_e+=a*Le,ne+=a*Ke,be+=a*Ge,ve+=a*Ve,me+=a*qe,De+=a*Ye,we+=a*He,_t+=a*Be,bt+=a*Re,Ot+=a*We,at+=a*Xe,a=T[13],ae+=a*Me,se+=a*Pe,te+=a*je,fe+=a*$e,_e+=a*Fe,ne+=a*Le,be+=a*Ke,ve+=a*Ge,me+=a*Ve,De+=a*qe,we+=a*Ye,_t+=a*He,bt+=a*Be,Ot+=a*Re,at+=a*We,Mt+=a*Xe,a=T[14],se+=a*Me,te+=a*Pe,fe+=a*je,_e+=a*$e,ne+=a*Fe,be+=a*Le,ve+=a*Ke,me+=a*Ge,De+=a*Ve,we+=a*qe,_t+=a*Ye,bt+=a*He,Ot+=a*Be,at+=a*Re,Mt+=a*We,pr+=a*Xe,a=T[15],te+=a*Me,fe+=a*Pe,_e+=a*je,ne+=a*$e,be+=a*Fe,ve+=a*Le,me+=a*Ke,De+=a*Ge,we+=a*Ve,_t+=a*qe,bt+=a*Ye,Ot+=a*He,at+=a*Be,Mt+=a*Re,pr+=a*We,Kr+=a*Xe,K+=38*fe,q+=38*_e,he+=38*ne,pe+=38*be,de+=38*ve,Ee+=38*me,Ue+=38*De,Ce+=38*we,ye+=38*_t,ge+=38*bt,le+=38*Ot,ue+=38*at,ce+=38*Mt,ae+=38*pr,se+=38*Kr,y=1,a=K+y+65535,y=Math.floor(a/65536),K=a-y*65536,a=q+y+65535,y=Math.floor(a/65536),q=a-y*65536,a=he+y+65535,y=Math.floor(a/65536),he=a-y*65536,a=pe+y+65535,y=Math.floor(a/65536),pe=a-y*65536,a=de+y+65535,y=Math.floor(a/65536),de=a-y*65536,a=Ee+y+65535,y=Math.floor(a/65536),Ee=a-y*65536,a=Ue+y+65535,y=Math.floor(a/65536),Ue=a-y*65536,a=Ce+y+65535,y=Math.floor(a/65536),Ce=a-y*65536,a=ye+y+65535,y=Math.floor(a/65536),ye=a-y*65536,a=ge+y+65535,y=Math.floor(a/65536),ge=a-y*65536,a=le+y+65535,y=Math.floor(a/65536),le=a-y*65536,a=ue+y+65535,y=Math.floor(a/65536),ue=a-y*65536,a=ce+y+65535,y=Math.floor(a/65536),ce=a-y*65536,a=ae+y+65535,y=Math.floor(a/65536),ae=a-y*65536,a=se+y+65535,y=Math.floor(a/65536),se=a-y*65536,a=te+y+65535,y=Math.floor(a/65536),te=a-y*65536,K+=y-1+37*(y-1),y=1,a=K+y+65535,y=Math.floor(a/65536),K=a-y*65536,a=q+y+65535,y=Math.floor(a/65536),q=a-y*65536,a=he+y+65535,y=Math.floor(a/65536),he=a-y*65536,a=pe+y+65535,y=Math.floor(a/65536),pe=a-y*65536,a=de+y+65535,y=Math.floor(a/65536),de=a-y*65536,a=Ee+y+65535,y=Math.floor(a/65536),Ee=a-y*65536,a=Ue+y+65535,y=Math.floor(a/65536),Ue=a-y*65536,a=Ce+y+65535,y=Math.floor(a/65536),Ce=a-y*65536,a=ye+y+65535,y=Math.floor(a/65536),ye=a-y*65536,a=ge+y+65535,y=Math.floor(a/65536),ge=a-y*65536,a=le+y+65535,y=Math.floor(a/65536),le=a-y*65536,a=ue+y+65535,y=Math.floor(a/65536),ue=a-y*65536,a=ce+y+65535,y=Math.floor(a/65536),ce=a-y*65536,a=ae+y+65535,y=Math.floor(a/65536),ae=a-y*65536,a=se+y+65535,y=Math.floor(a/65536),se=a-y*65536,a=te+y+65535,y=Math.floor(a/65536),te=a-y*65536,K+=y-1+37*(y-1),x[0]=K,x[1]=q,x[2]=he,x[3]=pe,x[4]=de,x[5]=Ee,x[6]=Ue,x[7]=Ce,x[8]=ye,x[9]=ge,x[10]=le,x[11]=ue,x[12]=ce,x[13]=ae,x[14]=se,x[15]=te}function l(x,T){o(x,T,T)}function L(x,T){const w=i();let a;for(a=0;a<16;a++)w[a]=T[a];for(a=253;a>=0;a--)l(w,w),a!==2&&a!==4&&o(w,w,T);for(a=0;a<16;a++)x[a]=w[a]}function P(x,T){const w=i();let a;for(a=0;a<16;a++)w[a]=T[a];for(a=250;a>=0;a--)l(w,w),a!==1&&o(w,w,T);for(a=0;a<16;a++)x[a]=w[a]}function H(x,T){const w=i(),a=i(),y=i(),K=i(),q=i(),he=i(),pe=i(),de=i(),Ee=i();d(w,x[1],x[0]),d(Ee,T[1],T[0]),o(w,w,Ee),v(a,x[0],x[1]),v(Ee,T[0],T[1]),o(a,a,Ee),o(y,x[3],T[3]),o(y,y,f),o(K,x[2],T[2]),v(K,K,K),d(q,a,w),d(he,K,y),v(pe,K,y),v(de,a,w),o(x[0],q,he),o(x[1],de,pe),o(x[2],pe,he),o(x[3],q,de)}function G(x,T,w){for(let a=0;a<4;a++)C(x[a],T[a],w)}function J(x,T){const w=i(),a=i(),y=i();L(y,T[2]),o(w,T[0],y),o(a,T[1],y),U(x,a),x[31]^=R(w)<<7}function D(x,T,w){E(x[0],c),E(x[1],u),E(x[2],u),E(x[3],c);for(let a=255;a>=0;--a){const y=w[a/8|0]>>(a&7)&1;G(x,T,y),H(T,x),H(x,x),G(x,T,y)}}function I(x,T){const w=[i(),i(),i(),i()];E(w[0],_),E(w[1],O),E(w[2],u),o(w[3],_,O),D(x,w,T)}function V(x){if(x.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const T=(0,r.hash)(x);T[0]&=248,T[31]&=127,T[31]|=64;const w=new Uint8Array(32),a=[i(),i(),i(),i()];I(a,T),J(w,a);const y=new Uint8Array(64);return y.set(x),y.set(w,32),{publicKey:w,secretKey:y}}t.generateKeyPairFromSeed=V;function F(x){const T=(0,e.randomBytes)(32,x),w=V(T);return(0,n.wipe)(T),w}t.generateKeyPair=F;function M(x){if(x.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(x.subarray(32))}t.extractPublicKeyFromSecretKey=M;const $=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function N(x,T){let w,a,y,K;for(a=63;a>=32;--a){for(w=0,y=a-32,K=a-12;y<K;++y)T[y]+=w-16*T[a]*$[y-(a-32)],w=Math.floor((T[y]+128)/256),T[y]-=w*256;T[y]+=w,T[a]=0}for(w=0,y=0;y<32;y++)T[y]+=w-(T[31]>>4)*$[y],w=T[y]>>8,T[y]&=255;for(y=0;y<32;y++)T[y]-=w*$[y];for(a=0;a<32;a++)T[a+1]+=T[a]>>8,x[a]=T[a]&255}function B(x){const T=new Float64Array(64);for(let w=0;w<64;w++)T[w]=x[w];for(let w=0;w<64;w++)x[w]=0;N(x,T)}function ee(x,T){const w=new Float64Array(64),a=[i(),i(),i(),i()],y=(0,r.hash)(x.subarray(0,32));y[0]&=248,y[31]&=127,y[31]|=64;const K=new Uint8Array(64);K.set(y.subarray(32),32);const q=new r.SHA512;q.update(K.subarray(32)),q.update(T);const he=q.digest();q.clean(),B(he),I(a,he),J(K,a),q.reset(),q.update(K.subarray(0,32)),q.update(x.subarray(32)),q.update(T);const pe=q.digest();B(pe);for(let de=0;de<32;de++)w[de]=he[de];for(let de=0;de<32;de++)for(let Ee=0;Ee<32;Ee++)w[de+Ee]+=pe[de]*y[Ee];return N(K.subarray(32),w),K}t.sign=ee;function z(x,T){const w=i(),a=i(),y=i(),K=i(),q=i(),he=i(),pe=i();return E(x[2],u),b(x[1],T),l(y,x[1]),o(K,y,h),d(y,y,x[2]),v(K,x[2],K),l(q,K),l(he,q),o(pe,he,q),o(w,pe,y),o(w,w,K),P(w,w),o(w,w,y),o(w,w,K),o(w,w,K),o(x[0],w,K),l(a,x[0]),o(a,a,K),S(a,y)&&o(x[0],x[0],p),l(a,x[0]),o(a,a,K),S(a,y)?-1:(R(x[0])===T[31]>>7&&d(x[0],c,x[0]),o(x[3],x[0],x[1]),0)}function Z(x,T,w){const a=new Uint8Array(32),y=[i(),i(),i(),i()],K=[i(),i(),i(),i()];if(w.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(z(K,x))return!1;const q=new r.SHA512;q.update(w.subarray(0,32)),q.update(x),q.update(T);const he=q.digest();return B(he),D(y,K,he),I(K,w.subarray(32)),H(y,K),J(a,y),!Y(w,a)}t.verify=Z;function W(x){let T=[i(),i(),i(),i()];if(z(T,x))throw new Error("Ed25519: invalid public key");let w=i(),a=i(),y=T[1];v(w,u,y),d(a,u,y),L(a,a),o(w,w,a);let K=new Uint8Array(32);return U(K,w),K}t.convertPublicKeyToX25519=W;function Q(x){const T=(0,r.hash)(x.subarray(0,32));T[0]&=248,T[31]&=127,T[31]|=64;const w=new Uint8Array(T.subarray(0,32));return(0,n.wipe)(T),w}t.convertSecretKeyToX25519=Q}(vn);const Sf="EdDSA",Of="JWT",is=".",ss="base64url",Tf="utf8",xf="utf8",If=":",Rf="did",Af="key",os="base58btc",Cf="z",Pf="K36",Lf=32;function Sn(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function as(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Sn(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function On(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=as(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return Sn(r)}function Nf(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),c=s.charCodeAt(0);if(r[c]!==255)throw new TypeError(s+" is ambiguous");r[c]=i}var u=t.length,h=t.charAt(0),f=Math.log(u)/Math.log(256),_=Math.log(256)/Math.log(u);function O(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var C=0,U=0,Y=0,S=A.length;Y!==S&&A[Y]===0;)Y++,C++;for(var R=(S-Y)*_+1>>>0,b=new Uint8Array(R);Y!==S;){for(var v=A[Y],d=0,o=R-1;(v!==0||d<U)&&o!==-1;o--,d++)v+=256*b[o]>>>0,b[o]=v%u>>>0,v=v/u>>>0;if(v!==0)throw new Error("Non-zero carry");U=d,Y++}for(var l=R-U;l!==R&&b[l]===0;)l++;for(var L=h.repeat(C);l<R;++l)L+=t.charAt(b[l]);return L}function p(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;var C=0;if(A[C]!==" "){for(var U=0,Y=0;A[C]===h;)U++,C++;for(var S=(A.length-C)*f+1>>>0,R=new Uint8Array(S);A[C];){var b=r[A.charCodeAt(C)];if(b===255)return;for(var v=0,d=S-1;(b!==0||v<Y)&&d!==-1;d--,v++)b+=u*R[d]>>>0,R[d]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");Y=v,C++}if(A[C]!==" "){for(var o=S-Y;o!==S&&R[o]===0;)o++;for(var l=new Uint8Array(U+(S-o)),L=U;o!==S;)l[L++]=R[o++];return l}}}function E(A){var C=p(A);if(C)return C;throw new Error(`Non-${e} character`)}return{encode:O,decodeUnsafe:p,decode:E}}var Uf=Nf,Mf=Uf;const cs=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},jf=t=>new TextEncoder().encode(t),$f=t=>new TextDecoder().decode(t);class Ff{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Bf{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return us(this,e)}}class zf{constructor(e){this.decoders=e}or(e){return us(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const us=(t,e)=>new zf({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Hf{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Ff(e,r,n),this.decoder=new Bf(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ar=({name:t,prefix:e,encode:r,decode:n})=>new Hf(t,e,r,n),ur=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Mf(r,e);return Ar({prefix:t,name:e,encode:n,decode:s=>cs(i(s))})},Kf=(t,e,r,n)=>{const i={};for(let _=0;_<e.length;++_)i[e[_]]=_;let s=t.length;for(;t[s-1]==="=";)--s;const c=new Uint8Array(s*r/8|0);let u=0,h=0,f=0;for(let _=0;_<s;++_){const O=i[t[_]];if(O===void 0)throw new SyntaxError(`Non-${n} character`);h=h<<r|O,u+=r,u>=8&&(u-=8,c[f++]=255&h>>u)}if(u>=r||255&h<<8-u)throw new SyntaxError("Unexpected end of data");return c},Gf=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",c=0,u=0;for(let h=0;h<t.length;++h)for(u=u<<8|t[h],c+=8;c>r;)c-=r,s+=e[i&u>>c];if(c&&(s+=e[i&u<<r-c]),n)for(;s.length*r&7;)s+="=";return s},Ze=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Ar({prefix:e,name:t,encode(i){return Gf(i,n,r)},decode(i){return Kf(i,n,r,t)}}),Vf=Ar({prefix:"\0",name:"identity",encode:t=>$f(t),decode:t=>jf(t)});var qf=Object.freeze({__proto__:null,identity:Vf});const Yf=Ze({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Wf=Object.freeze({__proto__:null,base2:Yf});const Xf=Ze({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var kf=Object.freeze({__proto__:null,base8:Xf});const Jf=ur({prefix:"9",name:"base10",alphabet:"0123456789"});var Zf=Object.freeze({__proto__:null,base10:Jf});const Qf=Ze({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),eh=Ze({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var th=Object.freeze({__proto__:null,base16:Qf,base16upper:eh});const rh=Ze({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),nh=Ze({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ih=Ze({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),sh=Ze({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),oh=Ze({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ah=Ze({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ch=Ze({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),uh=Ze({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),fh=Ze({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var hh=Object.freeze({__proto__:null,base32:rh,base32upper:nh,base32pad:ih,base32padupper:sh,base32hex:oh,base32hexupper:ah,base32hexpad:ch,base32hexpadupper:uh,base32z:fh});const lh=ur({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),dh=ur({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var gh=Object.freeze({__proto__:null,base36:lh,base36upper:dh});const _h=ur({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),yh=ur({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ph=Object.freeze({__proto__:null,base58btc:_h,base58flickr:yh});const bh=Ze({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),vh=Ze({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Eh=Ze({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wh=Ze({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var mh=Object.freeze({__proto__:null,base64:bh,base64pad:vh,base64url:Eh,base64urlpad:wh});const fs=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Dh=fs.reduce((t,e,r)=>(t[r]=e,t),[]),Sh=fs.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Oh(t){return t.reduce((e,r)=>(e+=Dh[r],e),"")}function Th(t){const e=[];for(const r of t){const n=Sh[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const xh=Ar({prefix:"\u{1F680}",name:"base256emoji",encode:Oh,decode:Th});var Ih=Object.freeze({__proto__:null,base256emoji:xh}),Rh=ls,hs=128,Ah=127,Ch=~Ah,Ph=Math.pow(2,31);function ls(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Ph;)e[r++]=t&255|hs,t/=128;for(;t&Ch;)e[r++]=t&255|hs,t>>>=7;return e[r]=t|0,ls.bytes=r-n+1,e}var Lh=Tn,Nh=128,ds=127;function Tn(t,n){var r=0,n=n||0,i=0,s=n,c,u=t.length;do{if(s>=u)throw Tn.bytes=0,new RangeError("Could not decode varint");c=t[s++],r+=i<28?(c&ds)<<i:(c&ds)*Math.pow(2,i),i+=7}while(c>=Nh);return Tn.bytes=s-n,r}var Uh=Math.pow(2,7),Mh=Math.pow(2,14),jh=Math.pow(2,21),$h=Math.pow(2,28),Fh=Math.pow(2,35),Bh=Math.pow(2,42),zh=Math.pow(2,49),Hh=Math.pow(2,56),Kh=Math.pow(2,63),Gh=function(t){return t<Uh?1:t<Mh?2:t<jh?3:t<$h?4:t<Fh?5:t<Bh?6:t<zh?7:t<Hh?8:t<Kh?9:10},Vh={encode:Rh,decode:Lh,encodingLength:Gh},gs=Vh;const _s=(t,e,r=0)=>(gs.encode(t,e,r),e),ys=t=>gs.encodingLength(t),xn=(t,e)=>{const r=e.byteLength,n=ys(t),i=n+ys(r),s=new Uint8Array(i+r);return _s(t,s,0),_s(r,s,n),s.set(e,i),new qh(t,r,e,s)};class qh{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const ps=({name:t,code:e,encode:r})=>new Yh(t,e,r);class Yh{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?xn(this.code,r):r.then(n=>xn(this.code,n))}else throw Error("Unknown type, must be binary type")}}const bs=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Wh=ps({name:"sha2-256",code:18,encode:bs("SHA-256")}),Xh=ps({name:"sha2-512",code:19,encode:bs("SHA-512")});var kh=Object.freeze({__proto__:null,sha256:Wh,sha512:Xh});const vs=0,Jh="identity",Es=cs;var Zh=Object.freeze({__proto__:null,identity:{code:vs,name:Jh,encode:Es,digest:t=>xn(vs,Es(t))}});new TextEncoder,new TextDecoder;const ws={...qf,...Wf,...kf,...Zf,...th,...hh,...gh,...ph,...mh,...Ih};({...kh,...Zh});function ms(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Ds=ms("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),In=ms("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=as(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Ss={utf8:Ds,"utf-8":Ds,hex:ws.base16,latin1:In,ascii:In,binary:In,...ws};function nt(t,e="utf8"){const r=Ss[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function it(t,e="utf8"){const r=Ss[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Sn(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Cr(t){return nt(it(bn(t),Tf),ss)}function Os(t){const e=it(Pf,os),r=Cf+nt(On([e,t]),os);return[Rf,Af,r].join(If)}function Qh(t){return nt(t,ss)}function el(t){return it([Cr(t.header),Cr(t.payload)].join(is),xf)}function tl(t){return[Cr(t.header),Cr(t.payload),Qh(t.signature)].join(is)}function Ts(t=Gt.randomBytes(Lf)){return vn.generateKeyPairFromSeed(t)}async function rl(t,e,r,n,i=oe.fromMiliseconds(Date.now())){const s={alg:Sf,typ:Of},c=Os(n.publicKey),u=i+r,h={iss:c,sub:t,aud:e,iat:i,exp:u},f=el({header:s,payload:h}),_=vn.sign(n.secretKey,f);return tl({header:s,payload:h,signature:_})}var Rn={},Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});var et=re,An=ot,nl=20;function il(t,e,r){for(var n=1634760805,i=857760878,s=2036477234,c=1797285236,u=r[3]<<24|r[2]<<16|r[1]<<8|r[0],h=r[7]<<24|r[6]<<16|r[5]<<8|r[4],f=r[11]<<24|r[10]<<16|r[9]<<8|r[8],_=r[15]<<24|r[14]<<16|r[13]<<8|r[12],O=r[19]<<24|r[18]<<16|r[17]<<8|r[16],p=r[23]<<24|r[22]<<16|r[21]<<8|r[20],E=r[27]<<24|r[26]<<16|r[25]<<8|r[24],A=r[31]<<24|r[30]<<16|r[29]<<8|r[28],C=e[3]<<24|e[2]<<16|e[1]<<8|e[0],U=e[7]<<24|e[6]<<16|e[5]<<8|e[4],Y=e[11]<<24|e[10]<<16|e[9]<<8|e[8],S=e[15]<<24|e[14]<<16|e[13]<<8|e[12],R=n,b=i,v=s,d=c,o=u,l=h,L=f,P=_,H=O,G=p,J=E,D=A,I=C,V=U,F=Y,M=S,$=0;$<nl;$+=2)R=R+o|0,I^=R,I=I>>>32-16|I<<16,H=H+I|0,o^=H,o=o>>>32-12|o<<12,b=b+l|0,V^=b,V=V>>>32-16|V<<16,G=G+V|0,l^=G,l=l>>>32-12|l<<12,v=v+L|0,F^=v,F=F>>>32-16|F<<16,J=J+F|0,L^=J,L=L>>>32-12|L<<12,d=d+P|0,M^=d,M=M>>>32-16|M<<16,D=D+M|0,P^=D,P=P>>>32-12|P<<12,v=v+L|0,F^=v,F=F>>>32-8|F<<8,J=J+F|0,L^=J,L=L>>>32-7|L<<7,d=d+P|0,M^=d,M=M>>>32-8|M<<8,D=D+M|0,P^=D,P=P>>>32-7|P<<7,b=b+l|0,V^=b,V=V>>>32-8|V<<8,G=G+V|0,l^=G,l=l>>>32-7|l<<7,R=R+o|0,I^=R,I=I>>>32-8|I<<8,H=H+I|0,o^=H,o=o>>>32-7|o<<7,R=R+l|0,M^=R,M=M>>>32-16|M<<16,J=J+M|0,l^=J,l=l>>>32-12|l<<12,b=b+L|0,I^=b,I=I>>>32-16|I<<16,D=D+I|0,L^=D,L=L>>>32-12|L<<12,v=v+P|0,V^=v,V=V>>>32-16|V<<16,H=H+V|0,P^=H,P=P>>>32-12|P<<12,d=d+o|0,F^=d,F=F>>>32-16|F<<16,G=G+F|0,o^=G,o=o>>>32-12|o<<12,v=v+P|0,V^=v,V=V>>>32-8|V<<8,H=H+V|0,P^=H,P=P>>>32-7|P<<7,d=d+o|0,F^=d,F=F>>>32-8|F<<8,G=G+F|0,o^=G,o=o>>>32-7|o<<7,b=b+L|0,I^=b,I=I>>>32-8|I<<8,D=D+I|0,L^=D,L=L>>>32-7|L<<7,R=R+l|0,M^=R,M=M>>>32-8|M<<8,J=J+M|0,l^=J,l=l>>>32-7|l<<7;et.writeUint32LE(R+n|0,t,0),et.writeUint32LE(b+i|0,t,4),et.writeUint32LE(v+s|0,t,8),et.writeUint32LE(d+c|0,t,12),et.writeUint32LE(o+u|0,t,16),et.writeUint32LE(l+h|0,t,20),et.writeUint32LE(L+f|0,t,24),et.writeUint32LE(P+_|0,t,28),et.writeUint32LE(H+O|0,t,32),et.writeUint32LE(G+p|0,t,36),et.writeUint32LE(J+E|0,t,40),et.writeUint32LE(D+A|0,t,44),et.writeUint32LE(I+C|0,t,48),et.writeUint32LE(V+U|0,t,52),et.writeUint32LE(F+Y|0,t,56),et.writeUint32LE(M+S|0,t,60)}function xs(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,c;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),c=s.length-e.length,s.set(e,c)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,c=i}for(var u=new Uint8Array(64),h=0;h<r.length;h+=64){il(u,s,t);for(var f=h;f<h+64&&f<r.length;f++)n[f]=r[f]^u[f-h];ol(s,0,c)}return An.wipe(u),i===0&&An.wipe(s),n}Pr.streamXOR=xs;function sl(t,e,r,n){return n===void 0&&(n=0),An.wipe(r),xs(t,e,r,r,n)}Pr.stream=sl;function ol(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var Is={},St={};Object.defineProperty(St,"__esModule",{value:!0});function al(t,e,r){return~(t-1)&e|t-1&r}St.select=al;function cl(t,e){return(t|0)-(e|0)-1>>>31&1}St.lessOrEqual=cl;function Rs(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}St.compare=Rs;function ul(t,e){return t.length===0||e.length===0?!1:Rs(t,e)!==0}St.equal=ul,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=St,r=ot;t.DIGEST_LENGTH=16;var n=function(){function c(u){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var h=u[0]|u[1]<<8;this._r[0]=h&8191;var f=u[2]|u[3]<<8;this._r[1]=(h>>>13|f<<3)&8191;var _=u[4]|u[5]<<8;this._r[2]=(f>>>10|_<<6)&7939;var O=u[6]|u[7]<<8;this._r[3]=(_>>>7|O<<9)&8191;var p=u[8]|u[9]<<8;this._r[4]=(O>>>4|p<<12)&255,this._r[5]=p>>>1&8190;var E=u[10]|u[11]<<8;this._r[6]=(p>>>14|E<<2)&8191;var A=u[12]|u[13]<<8;this._r[7]=(E>>>11|A<<5)&8065;var C=u[14]|u[15]<<8;this._r[8]=(A>>>8|C<<8)&8191,this._r[9]=C>>>5&127,this._pad[0]=u[16]|u[17]<<8,this._pad[1]=u[18]|u[19]<<8,this._pad[2]=u[20]|u[21]<<8,this._pad[3]=u[22]|u[23]<<8,this._pad[4]=u[24]|u[25]<<8,this._pad[5]=u[26]|u[27]<<8,this._pad[6]=u[28]|u[29]<<8,this._pad[7]=u[30]|u[31]<<8}return c.prototype._blocks=function(u,h,f){for(var _=this._fin?0:2048,O=this._h[0],p=this._h[1],E=this._h[2],A=this._h[3],C=this._h[4],U=this._h[5],Y=this._h[6],S=this._h[7],R=this._h[8],b=this._h[9],v=this._r[0],d=this._r[1],o=this._r[2],l=this._r[3],L=this._r[4],P=this._r[5],H=this._r[6],G=this._r[7],J=this._r[8],D=this._r[9];f>=16;){var I=u[h+0]|u[h+1]<<8;O+=I&8191;var V=u[h+2]|u[h+3]<<8;p+=(I>>>13|V<<3)&8191;var F=u[h+4]|u[h+5]<<8;E+=(V>>>10|F<<6)&8191;var M=u[h+6]|u[h+7]<<8;A+=(F>>>7|M<<9)&8191;var $=u[h+8]|u[h+9]<<8;C+=(M>>>4|$<<12)&8191,U+=$>>>1&8191;var N=u[h+10]|u[h+11]<<8;Y+=($>>>14|N<<2)&8191;var B=u[h+12]|u[h+13]<<8;S+=(N>>>11|B<<5)&8191;var ee=u[h+14]|u[h+15]<<8;R+=(B>>>8|ee<<8)&8191,b+=ee>>>5|_;var z=0,Z=z;Z+=O*v,Z+=p*(5*D),Z+=E*(5*J),Z+=A*(5*G),Z+=C*(5*H),z=Z>>>13,Z&=8191,Z+=U*(5*P),Z+=Y*(5*L),Z+=S*(5*l),Z+=R*(5*o),Z+=b*(5*d),z+=Z>>>13,Z&=8191;var W=z;W+=O*d,W+=p*v,W+=E*(5*D),W+=A*(5*J),W+=C*(5*G),z=W>>>13,W&=8191,W+=U*(5*H),W+=Y*(5*P),W+=S*(5*L),W+=R*(5*l),W+=b*(5*o),z+=W>>>13,W&=8191;var Q=z;Q+=O*o,Q+=p*d,Q+=E*v,Q+=A*(5*D),Q+=C*(5*J),z=Q>>>13,Q&=8191,Q+=U*(5*G),Q+=Y*(5*H),Q+=S*(5*P),Q+=R*(5*L),Q+=b*(5*l),z+=Q>>>13,Q&=8191;var x=z;x+=O*l,x+=p*o,x+=E*d,x+=A*v,x+=C*(5*D),z=x>>>13,x&=8191,x+=U*(5*J),x+=Y*(5*G),x+=S*(5*H),x+=R*(5*P),x+=b*(5*L),z+=x>>>13,x&=8191;var T=z;T+=O*L,T+=p*l,T+=E*o,T+=A*d,T+=C*v,z=T>>>13,T&=8191,T+=U*(5*D),T+=Y*(5*J),T+=S*(5*G),T+=R*(5*H),T+=b*(5*P),z+=T>>>13,T&=8191;var w=z;w+=O*P,w+=p*L,w+=E*l,w+=A*o,w+=C*d,z=w>>>13,w&=8191,w+=U*v,w+=Y*(5*D),w+=S*(5*J),w+=R*(5*G),w+=b*(5*H),z+=w>>>13,w&=8191;var a=z;a+=O*H,a+=p*P,a+=E*L,a+=A*l,a+=C*o,z=a>>>13,a&=8191,a+=U*d,a+=Y*v,a+=S*(5*D),a+=R*(5*J),a+=b*(5*G),z+=a>>>13,a&=8191;var y=z;y+=O*G,y+=p*H,y+=E*P,y+=A*L,y+=C*l,z=y>>>13,y&=8191,y+=U*o,y+=Y*d,y+=S*v,y+=R*(5*D),y+=b*(5*J),z+=y>>>13,y&=8191;var K=z;K+=O*J,K+=p*G,K+=E*H,K+=A*P,K+=C*L,z=K>>>13,K&=8191,K+=U*l,K+=Y*o,K+=S*d,K+=R*v,K+=b*(5*D),z+=K>>>13,K&=8191;var q=z;q+=O*D,q+=p*J,q+=E*G,q+=A*H,q+=C*P,z=q>>>13,q&=8191,q+=U*L,q+=Y*l,q+=S*o,q+=R*d,q+=b*v,z+=q>>>13,q&=8191,z=(z<<2)+z|0,z=z+Z|0,Z=z&8191,z=z>>>13,W+=z,O=Z,p=W,E=Q,A=x,C=T,U=w,Y=a,S=y,R=K,b=q,h+=16,f-=16}this._h[0]=O,this._h[1]=p,this._h[2]=E,this._h[3]=A,this._h[4]=C,this._h[5]=U,this._h[6]=Y,this._h[7]=S,this._h[8]=R,this._h[9]=b},c.prototype.finish=function(u,h){h===void 0&&(h=0);var f=new Uint16Array(10),_,O,p,E;if(this._leftover){for(E=this._leftover,this._buffer[E++]=1;E<16;E++)this._buffer[E]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(_=this._h[1]>>>13,this._h[1]&=8191,E=2;E<10;E++)this._h[E]+=_,_=this._h[E]>>>13,this._h[E]&=8191;for(this._h[0]+=_*5,_=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=_,_=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=_,f[0]=this._h[0]+5,_=f[0]>>>13,f[0]&=8191,E=1;E<10;E++)f[E]=this._h[E]+_,_=f[E]>>>13,f[E]&=8191;for(f[9]-=8192,O=(_^1)-1,E=0;E<10;E++)f[E]&=O;for(O=~O,E=0;E<10;E++)this._h[E]=this._h[E]&O|f[E];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,p=this._h[0]+this._pad[0],this._h[0]=p&65535,E=1;E<8;E++)p=(this._h[E]+this._pad[E]|0)+(p>>>16)|0,this._h[E]=p&65535;return u[h+0]=this._h[0]>>>0,u[h+1]=this._h[0]>>>8,u[h+2]=this._h[1]>>>0,u[h+3]=this._h[1]>>>8,u[h+4]=this._h[2]>>>0,u[h+5]=this._h[2]>>>8,u[h+6]=this._h[3]>>>0,u[h+7]=this._h[3]>>>8,u[h+8]=this._h[4]>>>0,u[h+9]=this._h[4]>>>8,u[h+10]=this._h[5]>>>0,u[h+11]=this._h[5]>>>8,u[h+12]=this._h[6]>>>0,u[h+13]=this._h[6]>>>8,u[h+14]=this._h[7]>>>0,u[h+15]=this._h[7]>>>8,this._finished=!0,this},c.prototype.update=function(u){var h=0,f=u.length,_;if(this._leftover){_=16-this._leftover,_>f&&(_=f);for(var O=0;O<_;O++)this._buffer[this._leftover+O]=u[h+O];if(f-=_,h+=_,this._leftover+=_,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(f>=16&&(_=f-f%16,this._blocks(u,h,_),h+=_,f-=_),f){for(var O=0;O<f;O++)this._buffer[this._leftover+O]=u[h+O];this._leftover+=f}return this},c.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var u=new Uint8Array(16);return this.finish(u),u},c.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},c}();t.Poly1305=n;function i(c,u){var h=new n(c);h.update(u);var f=h.digest();return h.clean(),f}t.oneTimeAuth=i;function s(c,u){return c.length!==t.DIGEST_LENGTH||u.length!==t.DIGEST_LENGTH?!1:e.equal(c,u)}t.equal=s}(Is),function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Pr,r=Is,n=ot,i=re,s=St;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var c=new Uint8Array(16),u=function(){function h(f){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,f.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(f)}return h.prototype.seal=function(f,_,O,p){if(f.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var E=new Uint8Array(16);E.set(f,E.length-f.length);var A=new Uint8Array(32);e.stream(this._key,E,A,4);var C=_.length+this.tagLength,U;if(p){if(p.length!==C)throw new Error("ChaCha20Poly1305: incorrect destination length");U=p}else U=new Uint8Array(C);return e.streamXOR(this._key,E,_,U,4),this._authenticate(U.subarray(U.length-this.tagLength,U.length),A,U.subarray(0,U.length-this.tagLength),O),n.wipe(E),U},h.prototype.open=function(f,_,O,p){if(f.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(_.length<this.tagLength)return null;var E=new Uint8Array(16);E.set(f,E.length-f.length);var A=new Uint8Array(32);e.stream(this._key,E,A,4);var C=new Uint8Array(this.tagLength);if(this._authenticate(C,A,_.subarray(0,_.length-this.tagLength),O),!s.equal(C,_.subarray(_.length-this.tagLength,_.length)))return null;var U=_.length-this.tagLength,Y;if(p){if(p.length!==U)throw new Error("ChaCha20Poly1305: incorrect destination length");Y=p}else Y=new Uint8Array(U);return e.streamXOR(this._key,E,_.subarray(0,_.length-this.tagLength),Y,4),n.wipe(E),Y},h.prototype.clean=function(){return n.wipe(this._key),this},h.prototype._authenticate=function(f,_,O,p){var E=new r.Poly1305(_);p&&(E.update(p),p.length%16>0&&E.update(c.subarray(p.length%16))),E.update(O),O.length%16>0&&E.update(c.subarray(O.length%16));var A=new Uint8Array(8);p&&i.writeUint64LE(p.length,A),E.update(A),i.writeUint64LE(O.length,A),E.update(A);for(var C=E.digest(),U=0;U<C.length;U++)f[U]=C[U];E.clean(),n.wipe(C),n.wipe(A)},h}();t.ChaCha20Poly1305=u}(Rn);var As={},fr={},Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});function fl(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}Cn.isSerializableHash=fl,Object.defineProperty(fr,"__esModule",{value:!0});var pt=Cn,hl=St,ll=ot,Cs=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),pt.isSerializableHash(this._inner)&&pt.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),ll.wipe(n)}return t.prototype.reset=function(){if(!pt.isSerializableHash(this._inner)||!pt.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){pt.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),pt.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!pt.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!pt.isSerializableHash(this._inner)||!pt.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!pt.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();fr.HMAC=Cs;function dl(t,e,r){var n=new Cs(t,e);n.update(r);var i=n.digest();return n.clean(),i}fr.hmac=dl,fr.equal=hl.equal,Object.defineProperty(As,"__esModule",{value:!0});var Ps=fr,Ls=ot,gl=function(){function t(e,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=Ps.hmac(this._hash,n,r);this._hmac=new Ps.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),Ls.wipe(this._buffer),Ls.wipe(this._counter),this._bufpos=0},t}(),_l=As.HKDF=gl,Lr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=re,r=ot;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var n=function(){function u(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return u.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},u.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},u.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},u.prototype.update=function(h,f){if(f===void 0&&(f=h.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var _=0;if(this._bytesHashed+=f,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&f>0;)this._buffer[this._bufferLength++]=h[_++],f--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(f>=this.blockSize&&(_=s(this._temp,this._state,h,_,f),f%=this.blockSize);f>0;)this._buffer[this._bufferLength++]=h[_++],f--;return this},u.prototype.finish=function(h){if(!this._finished){var f=this._bytesHashed,_=this._bufferLength,O=f/536870912|0,p=f<<3,E=f%64<56?64:128;this._buffer[_]=128;for(var A=_+1;A<E-8;A++)this._buffer[A]=0;e.writeUint32BE(O,this._buffer,E-8),e.writeUint32BE(p,this._buffer,E-4),s(this._temp,this._state,this._buffer,0,E),this._finished=!0}for(var A=0;A<this.digestLength/4;A++)e.writeUint32BE(this._state[A],h,A*4);return this},u.prototype.digest=function(){var h=new Uint8Array(this.digestLength);return this.finish(h),h},u.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},u.prototype.restoreState=function(h){return this._state.set(h.state),this._bufferLength=h.bufferLength,h.buffer&&this._buffer.set(h.buffer),this._bytesHashed=h.bytesHashed,this._finished=!1,this},u.prototype.cleanSavedState=function(h){r.wipe(h.state),h.buffer&&r.wipe(h.buffer),h.bufferLength=0,h.bytesHashed=0},u}();t.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(u,h,f,_,O){for(;O>=64;){for(var p=h[0],E=h[1],A=h[2],C=h[3],U=h[4],Y=h[5],S=h[6],R=h[7],b=0;b<16;b++){var v=_+b*4;u[b]=e.readUint32BE(f,v)}for(var b=16;b<64;b++){var d=u[b-2],o=(d>>>17|d<<32-17)^(d>>>19|d<<32-19)^d>>>10;d=u[b-15];var l=(d>>>7|d<<32-7)^(d>>>18|d<<32-18)^d>>>3;u[b]=(o+u[b-7]|0)+(l+u[b-16]|0)}for(var b=0;b<64;b++){var o=(((U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7))+(U&Y^~U&S)|0)+(R+(i[b]+u[b]|0)|0)|0,l=((p>>>2|p<<32-2)^(p>>>13|p<<32-13)^(p>>>22|p<<32-22))+(p&E^p&A^E&A)|0;R=S,S=Y,Y=U,U=C+o|0,C=A,A=E,E=p,p=o+l|0}h[0]+=p,h[1]+=E,h[2]+=A,h[3]+=C,h[4]+=U,h[5]+=Y,h[6]+=S,h[7]+=R,_+=64,O-=64}return _}function c(u){var h=new n;h.update(u);var f=h.digest();return h.clean(),f}t.hash=c})(Lr);var Pn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const e=Gt,r=ot;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function n(b){const v=new Float64Array(16);if(b)for(let d=0;d<b.length;d++)v[d]=b[d];return v}const i=new Uint8Array(32);i[0]=9;const s=n([56129,1]);function c(b){let v=1;for(let d=0;d<16;d++){let o=b[d]+v+65535;v=Math.floor(o/65536),b[d]=o-v*65536}b[0]+=v-1+37*(v-1)}function u(b,v,d){const o=~(d-1);for(let l=0;l<16;l++){const L=o&(b[l]^v[l]);b[l]^=L,v[l]^=L}}function h(b,v){const d=n(),o=n();for(let l=0;l<16;l++)o[l]=v[l];c(o),c(o),c(o);for(let l=0;l<2;l++){d[0]=o[0]-65517;for(let P=1;P<15;P++)d[P]=o[P]-65535-(d[P-1]>>16&1),d[P-1]&=65535;d[15]=o[15]-32767-(d[14]>>16&1);const L=d[15]>>16&1;d[14]&=65535,u(o,d,1-L)}for(let l=0;l<16;l++)b[2*l]=o[l]&255,b[2*l+1]=o[l]>>8}function f(b,v){for(let d=0;d<16;d++)b[d]=v[2*d]+(v[2*d+1]<<8);b[15]&=32767}function _(b,v,d){for(let o=0;o<16;o++)b[o]=v[o]+d[o]}function O(b,v,d){for(let o=0;o<16;o++)b[o]=v[o]-d[o]}function p(b,v,d){let o,l,L=0,P=0,H=0,G=0,J=0,D=0,I=0,V=0,F=0,M=0,$=0,N=0,B=0,ee=0,z=0,Z=0,W=0,Q=0,x=0,T=0,w=0,a=0,y=0,K=0,q=0,he=0,pe=0,de=0,Ee=0,Ue=0,Ce=0,ye=d[0],ge=d[1],le=d[2],ue=d[3],ce=d[4],ae=d[5],se=d[6],te=d[7],fe=d[8],_e=d[9],ne=d[10],be=d[11],ve=d[12],me=d[13],De=d[14],we=d[15];o=v[0],L+=o*ye,P+=o*ge,H+=o*le,G+=o*ue,J